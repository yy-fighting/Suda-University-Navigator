<!-- index.wxml 适配版 -->
<view class="container">
  <!-- 地图容器（已适配动态坐标） -->
  <map
    id="map"
    latitude="{{mapCenter.latitude}}"
    longitude="{{mapCenter.longitude}}"
    markers="{{markers}}"
    scale="16"
    style="width: 100%; height: 60vh;"
    show-location
  ></map>

  <!-- 新增搜索框（保持原结构） -->
  <view class="search-box-container">
    <view class="search-box">
      <input 
        class="search-input" 
        placeholder="搜索地点" 
        disabled="{{false}}" 
        focus="{{false}}"
      />
    </view>
  </view>

  <!-- index.wxml 优化版 -->
  <view class="card-container">
    <!-- 导航标签 -->
    <view class="tab-bar">
      <view 
        class="tab-item {{currentTab === 0 ? 'active' : ''}}" 
        bindtap="switchTab" 
        data-index="0"
      >
        <text class="tab-text">景点推荐</text>
        <view class="underline"></view>
      </view>
      <view 
        class="tab-item {{currentTab === 1 ? 'active' : ''}}" 
        bindtap="switchTab" 
        data-index="1"
      >
        <text class="tab-text">美食推荐</text>
        <view class="underline"></view>
      </view>
    </view>

    <!-- 轮播卡片 -->
    <swiper 
      class="content-swiper" 
      current="{{currentSwiper}}"
      bindchange="onSwiperChange"
    >
      <block wx:for="{{cards[currentTab]}}" wx:key="index">
        <swiper-item>
          <view class="info-card">
            <!-- 顶部图片 -->
            <view class="image-wrapper">
              <image 
                src="{{item.image}}" 
                mode="aspectFill" 
                class="card-image"
                lazy-load="true"
              ></image>
            </view>

            <!-- 文字内容区 -->
            <view class="content-area">
              <view class="title-row">
                <text class="card-title">{{item.name}}</text>
                <text class="open-time">{{item.openTime}}</text>
              </view>
              
              <text class="card-desc">{{item.description}}</text>
              
              <button 
                class="action-button" 
                bindtap="navigateTo" 
                data-location="{{item}}"
              >
                <text class="btn-text">开始导航</text>
                <image src="/icons/arrow-right.png" class="btn-icon"/>
              </button>
            </view>
          </view>
        </swiper-item>
      </block>
    </swiper>
  </view>
</view>




